<!DOCTYPE html>
<html lang="en">
<head>
<!-- OneSignal SDK -->
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "42fcb183-fb3f-43dc-be7e-777bc62ec31d",
      safari_web_id: "", // Add if you have Safari web ID
      notifyButton: {
        enable: true // Set to false to hide notify button
      }
    });
  });
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pak E Services</title>
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #046A38; /* Pakistan green */
            --secondary: #01411C;
            --accent: #F8F1D3;
            --text: #333333;
            --light: #FFFFFF;
            --gray: #F5F5F5;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --dark-bg: #121212;
            --dark-card: #1E1E1E;
            --dark-text: #E0E0E0;
            --transition: all 0.3s ease;
            --header-gradient: linear-gradient(135deg, #046A38, #01411C);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background-color: var(--gray);
            color: var(--text);
            transition: var(--transition);
        }
        
        body.dark-mode {
            background-color: var(--dark-bg);
            color: var(--dark-text);
        }
        
        .app-container {
            width: 100%;
            max-width: 100%;
            height: 100vh;
            background-color: var(--light);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            transition: var(--transition);
        }
        
        .app-container.dark-mode {
            background-color: var(--dark-bg);
        }
        
        /* Header Section */
        .app-header {
            background: var(--header-gradient);
            padding: 6px 15px;
            color: white;
            position: relative;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 56px;
            transition: var(--transition);
            z-index: 100;
        }
        
        .dark-mode .app-header {
            background: linear-gradient(135deg, #01411C, #00210E);
        }
        
        .header-left, .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .theme-toggle {
            font-size: 20px;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            outline: none;
        }
        
        /* Custom 4-line menu button */
        .menu-btn {
            width: 24px;
            height: 24px;
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            outline: none;
        }
        
        .menu-btn span {
            display: block;
            width: 100%;
            height: 3px;
            background-color: white;
            position: absolute;
            left: 0;
            transition: var(--transition);
        }
        
        .menu-btn span:nth-child(1) {
            top: 0;
            width: 80%;
        }
        
        .menu-btn span:nth-child(2) {
            top: 7px;
            width: 100%;
        }
        
        .menu-btn span:nth-child(3) {
            top: 14px;
            width: 60%;
        }
        
        .menu-btn span:nth-child(4) {
            top: 21px;
            width: 90%;
        }
        
        .menu-btn:active {
            transform: scale(0.9);
        }
        
        .theme-toggle:active {
            transform: scale(0.9);
        }
        
        .search-container {
            position: relative;
            flex: 1;
            max-width: 200px;
            margin: 0 auto;
        }
        
        .search-bar {
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            height: 36px;
            width: 100%;
            transition: var(--transition);
            border: 1px solid transparent;
        }
        
        .search-bar.active {
            border-color: white;
            box-shadow: 0 0 0 2px rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.3);
        }
        
        .dark-mode .search-bar {
            background: rgba(0,0,0,0.2);
        }
        
        .search-bar input {
            flex: 1;
            border: none;
            outline: none;
            padding: 0 8px;
            font-size: 13px;
            background: transparent;
            color: white;
            transition: var(--transition);
        }
        
        .search-bar input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .dark-mode .search-bar input {
            color: var(--light);
        }
        
        .search-icon {
            color: white;
            margin-right: 8px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        .clear-search {
            color: rgba(255,255,255,0.7);
            font-size: 14px;
            margin-left: 8px;
            cursor: pointer;
            display: none;
            transition: var(--transition);
        }
        
        .clear-search:active {
            transform: scale(0.9);
        }
        
        .dark-mode .clear-search {
            color: rgba(255,255,255,0.5);
        }
        
        /* Side Menu */
        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 280px;
            height: 100%;
            background-color: var(--light);
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: var(--transition);
            overflow-y: auto;
            border-top-right-radius: 20px;
            border-bottom-right-radius: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .dark-mode .side-menu {
            background-color: var(--dark-card);
        }
        
        .side-menu.active {
            left: 0;
        }
        
        .menu-header {
            background: var(--header-gradient);
            padding: 0;
            color: var(--light);
            text-align: center;
            position: relative;
            height: 150px;
            overflow: hidden;
            border-top-right-radius: 20px;
        }
        
        .menu-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .menu-items {
            padding: 15px 0;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .menu-section {
            padding: 0 0 5px;
        }
        
        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            color: var(--text);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }
        
        .dark-mode .menu-item {
            color: var(--dark-text);
        }
        
        .menu-item:hover {
            background-color: var(--gray);
            border-left: 3px solid var(--primary);
        }
        
        .dark-mode .menu-item:hover {
            background-color: #333;
        }
        
        .menu-item i {
            margin-right: 15px;
            color: var(--primary);
            width: 20px;
            text-align: center;
            font-size: 16px;
        }
        
        .menu-item.active {
            background-color: rgba(4, 106, 56, 0.1);
            border-left: 3px solid var(--primary);
        }
        
        .dark-mode .menu-item.active {
            background-color: rgba(4, 106, 56, 0.2);
        }
        
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .menu-overlay.active {
            display: block;
            opacity: 1;
        }
        
        /* Version at bottom center */
        .menu-version {
            padding: 15px;
            font-size: 12px;
            color: #888;
            text-align: center;
            margin-top: auto;
            margin-bottom: 10px;
        }
        
        .dark-mode .menu-version {
            color: #aaa;
        }

        /* Image Slider */
        .slider-container {
            width: calc(100% - 30px);
            overflow: hidden;
            position: relative;
            height: 150px;
            margin: 15px auto;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }
        
        .slider {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }
        
        .slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--accent);
            color: var(--primary);
            font-size: 24px;
            font-weight: bold;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .slide-link {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 2;
            cursor: pointer;
        }
        
        .ad-label {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            z-index: 3;
        }
        
        .slider-nav {
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
            pointer-events: none;
        }
        
        .slider-btn {
            background-color: rgba(0,0,0,0.3);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            pointer-events: auto;
            transition: var(--transition);
            outline: none;
        }
        
        .slider-btn:active {
            transform: scale(0.9);
        }
        
        /* Filter Tabs */
        .filter-tabs {
            display: flex;
            overflow-x: auto;
            padding: 10px 15px;
            background-color: var(--light);
            border-bottom: 1px solid #eee;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .filter-tabs::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .filter-tab {
            padding: 6px 12px;
            margin-right: 8px;
            border-radius: 20px;
            background-color: var(--gray);
            color: var(--text);
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid #ddd;
            flex-shrink: 0;
        }
        
        .dark-mode .filter-tab {
            background-color: #333;
            color: var(--dark-text);
            border-color: #444;
        }
        
        .filter-tab.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 0 0 20px;
            background-color: var(--gray);
            transition: var(--transition);
        }
        
        .dark-mode .main-content {
            background-color: var(--dark-bg);
        }
        
        /* Services Section */
        .section {
            margin: 15px 0;
            background-color: var(--light);
            border-radius: 16px;
            padding: 15px;
            box-shadow: var(--shadow);
            width: calc(100% - 30px);
            margin-left: auto;
            margin-right: auto;
            transition: var(--transition);
        }
        
        .dark-mode .section {
            background-color: var(--dark-card);
        }
        
        .section-header {
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--secondary);
            transition: var(--transition);
        }
        
        .dark-mode .section-title {
            color: var(--primary);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }
        
        .service-item {
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
            -webkit-tap-highlight-color: transparent;
        }
        
        .service-item:active {
            transform: scale(0.95);
        }
        
        .service-icon {
            width: 50px;
            height: 50px;
            background-color: var(--accent);
            border-radius: 12px;
            margin: 0 auto 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 20px;
            transition: var(--transition);
        }
        
        .service-name {
            font-size: 11px;
            font-weight: 500;
            line-height: 1.2;
            height: 2.4em;
            display: flex;
            flex-direction: column;
            justify-content: center;
            color: var(--text);
            transition: var(--transition);
        }
        
        .dark-mode .service-name {
            color: var(--dark-text);
        }
        
        /* Ad Container */
        .ad-container {
            width: calc(100% - 30px);
            margin: 15px auto;
            border-radius: 12px;
            overflow: hidden;
            text-align: center;
            transition: var(--transition);
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--light);
            box-shadow: var(--shadow);
        }
        
        .ad-container iframe {
            border: none;
            width: 100%;
            height: 250px;
        }
        
        .cointiply-ad {
            display: none;
        }
        
        /* Popup Ad */
        .popup-ad {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .popup-ad.show {
            opacity: 1;
            pointer-events: auto;
        }
        
        .popup-ad-content {
            background-color: var(--light);
            border-radius: 16px;
            overflow: hidden;
            width: 90%;
            max-width: 300px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .popup-ad.show .popup-ad-content {
            transform: scale(1);
        }
        
        .popup-ad-img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .popup-ad-link {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 2;
            cursor: pointer;
        }
        
        .popup-ad-label {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            z-index: 3;
        }
        
        .popup-ad-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            outline: none;
        }
        
        /* Exit Popup */
        .exit-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1100;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .exit-popup.show {
            opacity: 1;
            display: flex;
        }
        
        .exit-popup-content {
            background-color: var(--light);
            border-radius: 12px;
            padding: 20px;
            width: 90%;
            max-width: 300px;
            text-align: center;
            box-shadow: var(--shadow);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .exit-popup.show .exit-popup-content {
            transform: scale(1);
        }
        
        .dark-mode .exit-popup-content {
            background-color: var(--dark-card);
        }
        
        .exit-popup-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120px;
            background-image: url('https://i.postimg.cc/JzLwVJFt/20250404-153655.png');
            background-size: cover;
            background-position: center;
            z-index: 0;
            opacity: 0.2;
        }
        
        .exit-popup-text {
            position: relative;
            z-index: 1;
        }
        
        .exit-popup-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .exit-popup-subtitle {
            font-size: 16px;
            color: var(--text);
            margin-bottom: 20px;
        }
        
        .exit-popup-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
            position: relative;
            z-index: 1;
        }
        
        .exit-btn, .cancel-btn {
            padding: 8px 20px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            -webkit-tap-highlight-color: transparent;
            transition: var(--transition);
            flex: 1;
            outline: none;
        }
        
        .exit-btn {
            background-color: var(--primary);
            color: white;
        }
        
        .exit-btn:active {
            transform: scale(0.95);
        }
        
        .cancel-btn {
            background-color: var(--gray);
            color: var(--text);
        }
        
        .cancel-btn:active {
            transform: scale(0.95);
        }
        
        .dark-mode .cancel-btn {
            background-color: #333;
            color: var(--dark-text);
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            background-color: var(--light);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            border-top: 1px solid #eee;
            border-top-left-radius: 16px;
            border-top-right-radius: 16px;
            transition: var(--transition);
        }
        
        .dark-mode .bottom-nav {
            background-color: var(--dark-card);
            border-top-color: #333;
        }
        
        .nav-item {
            text-align: center;
            color: #888;
            font-size: 11px;
            cursor: pointer;
            transition: var(--transition);
            -webkit-tap-highlight-color: transparent;
            padding: 5px 10px;
            border-radius: 10px;
            outline: none;
        }
        
        .dark-mode .nav-item {
            color: #aaa;
        }
        
        .nav-item.active {
            color: var(--primary);
            background-color: rgba(4, 106, 56, 0.1);
        }
        
        .dark-mode .nav-item.active {
            background-color: rgba(4, 106, 56, 0.2);
        }
        
        .nav-icon {
            font-size: 18px;
            margin-bottom: 2px;
        }
        
        /* Notifications Screen */
        .notifications-container {
            display: none;
            padding: 15px;
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .notification-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .dark-mode .notification-title {
            color: var(--primary);
        }
        
        .back-btn {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 16px;
            cursor: pointer;
            outline: none;
        }
        
        .notification-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .notification-item {
            background-color: var(--light);
            border-radius: 12px;
            padding: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            margin-bottom: 10px;
            cursor: pointer;
        }
        
        .dark-mode .notification-item {
            background-color: var(--dark-card);
        }
        
        .notification-time {
            font-size: 12px;
            color: #888;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .dark-mode .notification-time {
            color: #aaa;
        }
        
        .notification-time i {
            margin-right: 5px;
            font-size: 10px;
        }
        
        .notification-content {
            font-size: 14px;
            line-height: 1.4;
        }
        
        .notification-content p {
            margin-top: 5px;
            color: #666;
        }
        
        .dark-mode .notification-content p {
            color: #999;
        }
        
        .no-notifications {
            text-align: center;
            padding: 40px 20px;
            color: #888;
        }
        
        .dark-mode .no-notifications {
            color: #aaa;
        }
        
        /* About Popup */
        .about-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1200;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .about-popup.show {
            opacity: 1;
            display: flex;
        }
        
        .about-popup-content {
            background-color: var(--light);
            border-radius: 12px;
            padding: 20px;
            width: 90%;
            max-width: 300px;
            text-align: center;
            box-shadow: var(--shadow);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .about-popup.show .about-popup-content {
            transform: scale(1);
        }
        
        .dark-mode .about-popup-content {
            background-color: var(--dark-card);
        }
        
        .about-popup-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .about-popup-text {
            font-size: 14px;
            color: var(--text);
            margin-bottom: 20px;
            text-align: left;
            line-height: 1.5;
        }
        
        .dark-mode .about-popup-text {
            color: var(--dark-text);
        }
        
        .about-popup-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            outline: none;
        }
        
        /* Exit Ad Popup */
        .exit-ad-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 1300;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .exit-ad-popup.show {
            opacity: 1;
            display: flex;
        }
        
        .exit-ad-content {
            background-color: var(--light);
            border-radius: 12px;
            overflow: hidden;
            width: 90%;
            max-width: 300px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .exit-ad-popup.show .exit-ad-content {
            transform: scale(1);
        }
        
        .dark-mode .exit-ad-content {
            background-color: var(--dark-card);
        }
        
        .exit-ad-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            outline: none;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 600px) {
            .services-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
            }
            
            .service-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
            
            .service-name {
                font-size: 10px;
            }
        }
        
        @media (max-width: 400px) {
            .services-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }
            
            .service-icon {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
            
            .theme-toggle {
                font-size: 18px;
                padding: 6px;
            }
        }
    </style>
</head>
<body>
    <!-- Side Menu Overlay -->
    <div class="menu-overlay" id="menuOverlay"></div>
    
    <!-- Popup Ad -->
    <div class="popup-ad" id="popupAd">
        <div class="popup-ad-content">
            <img src="" alt="Advertisement" class="popup-ad-img" id="randomPopupAd" loading="lazy">
            <!-- Link will be added dynamically if needed -->
            <button class="popup-ad-close" id="popupAdClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- Exit Popup -->
    <div class="exit-popup" id="exitPopup">
        <div class="exit-popup-content">
            <div class="exit-popup-bg"></div>
            <div class="exit-popup-text">
                <div class="exit-popup-title">PAKISTAN E Services</div>
                <div class="exit-popup-subtitle">Are you sure you want to exit?</div>
                <div id="exitAdContainer" style="width: 100%; height: 250px; margin: 10px 0; border-radius: 10px; overflow: hidden;">
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'e9fe384486c3f902fe50c17beb7076f6',
                            'format' : 'iframe',
                            'height' : 250,
                            'width' : 300,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/e9fe384486c3f902fe50c17beb7076f6/invoke.js"></script>
                </div>
                <div class="exit-popup-buttons">
                    <button class="cancel-btn" id="cancelExit">No</button>
                    <button class="exit-btn" id="confirmExit">Yes, Exit</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- About Popup -->
    <div class="about-popup" id="aboutPopup">
        <div class="about-popup-content">
            <button class="about-popup-close" id="aboutPopupClose">
                <i class="fas fa-times"></i>
            </button>
            <div class="about-popup-title">About Pak E Services</div>
            <div class="about-popup-text">
                <p>Pak E Services is a comprehensive application that provides various online services for Pakistani citizens.</p>
                <p>Our mission is to make government and private services easily accessible to everyone through a single platform.</p>
                <p><strong>Features:</strong></p>
                <ul style="padding-left: 20px; margin-top: 10px;">
                    <li>Bill payments</li>
                    <li>Mobile packages</li>
                    <li>Government services</li>
                    <li>Emergency contacts</li>
                    <li>And much more...</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Version:</strong> 1.0</p>
                <p><strong>Developed by:</strong> Al Noor Apps</p>
            </div>
        </div>
    </div>
    
    <!-- Exit Ad Popup -->
    <div class="exit-ad-popup" id="exitAdPopup">
        <div class="exit-ad-content">
            <div id="exitAdContainer">
                <script type="text/javascript">
                    atOptions = {
                        'key' : 'e9fe384486c3f902fe50c17beb7076f6',
                        'format' : 'iframe',
                        'height' : 250,
                        'width' : 300,
                        'params' : {}
                    };
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/e9fe384486c3f902fe50c17beb7076f6/invoke.js"></script>
            </div>
            <button class="exit-ad-close" id="exitAdClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <img src="https://i.postimg.cc/JzLwVJFt/20250404-153655.png" alt="Menu Header" loading="lazy">
        </div>
        <div class="menu-items">
            <a href="#" class="menu-item active" onclick="window.location.href='go:100'">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#" class="menu-item" onclick="window.location.href='go:123'">
                <i class="fas fa-bell"></i>
                <span>Notifications</span>
            </a>
            
            <a href="#" class="menu-item" onclick="window.location.href='http://action_share'">
                <i class="fas fa-share-alt"></i>
                <span>Share App</span>
            </a>
            <a href="#" class="menu-item" onclick="window.open('https://play.google.com/store/apps/details?id=pakeservices.copy&pcampaignid=web_share', '_blank')">
                <i class="fas fa-star"></i>
                <span>Rate Us</span>
            </a>
            <a href="#" class="menu-item" onclick="window.open('https://play.google.com/store/apps/developer?id=Al+Noor+Apps&hl=en&gl=US', '_blank')">
                <i class="fas fa-th"></i>
                <span>More Apps</span>
            </a>
            
            <a href="#" class="menu-item" id="aboutMenuBtn">
                <i class="fas fa-info-circle"></i>
                <span>About App</span>
            </a>
            <a href="#" class="menu-item" onclick="window.location.href='go:Terms'">
                <i class="fas fa-file-contract"></i>
                <span>Terms & Conditions</span>
            </a>
            
            <a href="#" class="menu-item" id="exitBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Exit App</span>
            </a>
        </div>
        <div class="menu-version">
            Version 1.0
        </div>
    </div>
    
    <div class="app-container">
        <!-- App Header -->
        <div class="app-header">            
            <div class="header-left">
                <button class="menu-btn" id="menuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="search-container">
                    <div class="search-bar" id="searchBar">
                        <span class="search-icon"><i class="fas fa-search"></i></span>
                        <input type="text" placeholder="Search services..." id="searchInput">
                        <span class="clear-search" id="clearSearch"><i class="fas fa-times"></i></span>
                    </div>
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>
            <div class="header-right">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
        
        <!-- Filter Tabs -->
        <div class="filter-tabs">
            <div class="filter-tab active" data-filter="all">All</div>
            <div class="filter-tab" data-filter="islamic">Islamic</div>
            <div class="filter-tab" data-filter="utilities">Utilities</div>
            <div class="filter-tab" data-filter="government">Government</div>
            <div class="filter-tab" data-filter="entertainment">Entertainment</div>
            <div class="filter-tab" data-filter="financial">Financial</div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Home Content -->
            <div id="homeContent">
                <!-- Image Slider -->
                <div class="slider-container">
                    <div class="slider" id="slider">
                        <!-- Slides will be loaded dynamically -->
                    </div>
                    <div class="slider-nav">
                        <button class="slider-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
                        <button class="slider-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                
                <!-- Popular Services -->
                <div class="section" id="popularServices">
                    <div class="section-header">
                        <h3 class="section-title">Popular Services</h3>
                    </div>
                    
                    <div class="services-grid">
                        <div class="service-item" data-filter="islamic" onclick="window.location.href='go:1'">
                            <div class="service-icon"><i class="fas fa-mosque"></i></div>
                            <div class="service-name">Islamic<br>Resources</div>
                        </div>
                        <div class="service-item" data-filter="islamic" onclick="window.location.href='go:Naats'">
                            <div class="service-icon"><i class="fas fa-music"></i></div>
                            <div class="service-name">Audio<br>Naats</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:2'">
                            <div class="service-icon"><i class="fas fa-file-invoice-dollar"></i></div>
                            <div class="service-name">Bill<br>Payments</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:3'">
                            <div class="service-icon"><i class="fas fa-tv"></i></div>
                            <div class="service-name">Live<br>TV</div>
                        </div>
                        <div class="service-item" data-filter="financial" onclick="window.location.href='go:4'">
                            <div class="service-icon"><i class="fas fa-money-bill-wave"></i></div>
                            <div class="service-name">Earn<br>Money</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:C1'">
                            <div class="service-icon"><i class="fas fa-mobile-alt"></i></div>
                            <div class="service-name">Mobile<br>Packages</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:5'">
                            <div class="service-icon"><i class="fas fa-comments"></i></div>
                            <div class="service-name">Chat<br>Services</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:6'">
                            <div class="service-icon"><i class="fas fa-database"></i></div>
                            <div class="service-name">Database<br>Services</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:7'">
                            <div class="service-icon"><i class="fas fa-car"></i></div>
                            <div class="service-name">Vehicle<br>Verification</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:8'">
                            <div class="service-icon"><i class="fas fa-phone-alt"></i></div>
                            <div class="service-name">Emergency<br>Contacts</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:9'">
                            <div class="service-icon"><i class="fas fa-video"></i></div>
                            <div class="service-name">Video<br>Sharing</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:10'">
                            <div class="service-icon"><i class="fas fa-truck"></i></div>
                            <div class="service-name">Courier<br>Services</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:11'">
                            <div class="service-icon"><i class="fas fa-graduation-cap"></i></div>
                            <div class="service-name">Education<br>Boards</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:12'">
                            <div class="service-icon"><i class="fas fa-gamepad"></i></div>
                            <div class="service-name">Games<br>& Fun</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:13'">
                            <div class="service-icon"><i class="fas fa-id-card"></i></div>
                            <div class="service-name">National<br>ID</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:14'">
                            <div class="service-icon"><i class="fas fa-home"></i></div>
                            <div class="service-name">Domicile<br>Services</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:15'">
                            <div class="service-icon"><i class="fas fa-plane"></i></div>
                            <div class="service-name">Travel<br>Services</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:16'">
                            <div class="service-icon"><i class="fas fa-calculator"></i></div>
                            <div class="service-name">Age<br>Calculator</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:17'">
                            <div class="service-icon"><i class="fas fa-newspaper"></i></div>
                            <div class="service-name">News<br>Papers</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:18'">
                            <div class="service-icon"><i class="fas fa-exchange-alt"></i></div>
                            <div class="service-name">Unit<br>Converter</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:19'">
                            <div class="service-icon"><i class="fas fa-map-marked-alt"></i></div>
                            <div class="service-name">Land<br>Records</div>
                        </div>
                        <div class="service-item" data-filter="financial" onclick="window.location.href='go:20'">
                            <div class="service-icon"><i class="fas fa-shopping-cart"></i></div>
                            <div class="service-name">Online<br>Shopping</div>
                        </div>
                        <div class="service-item" data-filter="financial" onclick="window.location.href='go:21'">
                            <div class="service-icon"><i class="fas fa-money-check-alt"></i></div>
                            <div class="service-name">Prize<br>Bonds</div>
                        </div>
                        <div class="service-item" data-filter="education" onclick="window.location.href='go:22'">
                            <div class="service-icon"><i class="fas fa-graduation-cap"></i></div>
                            <div class="service-name">Free<br>Courses</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:23'">
                            <div class="service-icon"><i class="fas fa-file-alt"></i></div>
                            <div class="service-name">Online<br>FIR</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:24'">
                            <div class="service-icon"><i class="fas fa-search-dollar"></i></div>
                            <div class="service-name">FBR<br>Inquiry</div>
                        </div>
                        <div class="service-item" data-filter="government" onclick="window.location.href='go:25'">
                            <div class="service-icon"><i class="fas fa-landmark"></i></div>
                            <div class="service-name">Assembly<br>Info</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:26'">
                            <div class="service-icon"><i class="fas fa-mobile"></i></div>
                            <div class="service-name">Mobile<br>Prices</div>
                        </div>
                        <div class="service-item" data-filter="entertainment" onclick="window.location.href='go:27'">
                            <div class="service-icon"><i class="fas fa-image"></i></div>
                            <div class="service-name">PNG<br>Images</div>
                        </div>
                        <div class="service-item" data-filter="utilities" onclick="window.location.href='go:28'">
                            <div class="service-icon"><i class="fas fa-upload"></i></div>
                            <div class="service-name">File<br>Upload</div>
                        </div>
                    </div>
                </div>
                
                <!-- Ad Container -->
                <div class="ad-container" id="adContainer">
                    <div id="adsteraAd">
                        <script type="text/javascript">
                            atOptions = {
                                'key' : 'e9fe384486c3f902fe50c17beb7076f6',
                                'format' : 'iframe',
                                'height' : 250,
                                'width' : 300,
                                'params' : {}
                            };
                        </script>
                        <script type="text/javascript" src="//www.highperformanceformat.com/e9fe384486c3f902fe50c17beb7076f6/invoke.js"></script>
                    </div>
                    <div class="cointiply-ad" id="cointiplyAd">
                        <a href="http://cointiply.com/r/Vox8lV"><img title="Join Cointiply to Earn Free Bitcoin!" alt="Earn Free Bitcoin" src="https://cointiply.com/img/promo/banners/1_300x250.gif"></a>
                    </div>
                </div>
            </div>
            
            <!-- Notifications Content -->
            <div class="notifications-container" id="notificationsContainer">
                <div class="notification-header">
                    <h3 class="notification-title">Notifications</h3>
                    <button class="back-btn" id="backBtn">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                
                <div class="notification-list" id="notificationList">
                    <div class="no-notifications">
                        <i class="fas fa-bell-slash" style="font-size: 24px; margin-bottom: 10px;"></i>
                        <p>No notifications yet</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" id="homeNav">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <div>Home</div>
            </div>
            <div class="nav-item" id="shareNav" onclick="window.location.href='http://action_share'">
                <div class="nav-icon"><i class="fas fa-share-alt"></i></div>
                <div>Share</div>
            </div>
            <div class="nav-item" id="notificationsNav" onclick="window.location.href='go:123'">
                <div class="nav-icon"><i class="fas fa-bell"></i></div>
                <div>Updates</div>
            </div>
            <div class="nav-item" id="moreAppsNav" onclick="window.open('https://play.google.com/store/apps/developer?id=Al+Noor+Apps&hl=en&gl=US', '_blank')">
                <div class="nav-icon"><i class="fas fa-th"></i></div>
                <div>More Apps</div>
            </div>
        </div>
    </div>

    <script>
        // Optimized image loading for slider and popups
        const sliderImages = [
            {
                url: "https://i.postimg.cc/XYjcR7XB/20250413-030642.png",
                link: "",
                isAd: false
            },
            {
                url: "https://i.postimg.cc/C578sXkn/20250413-055256.png",
                link: "",
                isAd: false
            },
            {
                url: "https://i.postimg.cc/d3S8qdWS/20250412-142002.png",
                link: "",
                isAd: false
            },
            {
                url: "https://i.postimg.cc/XJ0n7vm4/20250413-053600.png",
                link: "https://play.google.com/store/apps/details?id=noorall.couriertracker24786",
                isAd: true
            }
        ];

        // Preload slider images
        function preloadSliderImages() {
            sliderImages.forEach(img => {
                const image = new Image();
                image.src = img.url;
            });
        }

        // Initialize slider with optimized images
        function initSlider() {
            const slider = document.getElementById('slider');
            slider.innerHTML = '';
            
            sliderImages.forEach((img, index) => {
                const slide = document.createElement('div');
                slide.className = 'slide';
                slide.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('${img.url}')`;
                
                if (img.link) {
                    const link = document.createElement('a');
                    link.className = 'slide-link';
                    link.href = img.link;
                    link.target = '_blank';
                    slide.appendChild(link);
                }
                
                if (img.isAd) {
                    const label = document.createElement('span');
                    label.className = 'ad-label';
                    label.textContent = 'AD';
                    slide.appendChild(label);
                }
                
                slider.appendChild(slide);
            });
        }

        // Popup ad images with optional links
        const popupAds = [
            {
                image: "https://i.postimg.cc/fytXBYSs/Bycot.png",
                link: "" // Add link here if needed (can be any URL)
            },
            {
                image: "https://i.postimg.cc/fRg8qnV6/Gaza-Dua.png",
                link: "" // Add link here if needed (can be any URL)
            },
            {
                image: "https://i.postimg.cc/ZYvK0x4S/Arena-Travel-and-Tours-Study-in-Geogea.jpg",
                link: "whatsapp://send?text=*Hi! Arena Travel and Consultants* Salam, main aapka ad *[Pak E Services]* me dekh kar aaya hoon aur mujhe zyada tafseelat chahiye &phone=+92 301 1178609"
            },
            {
                image: "https://i.postimg.cc/5NZ4wY9C/Arena-Travel-and-Tours.jpg",
                link: "whatsapp://send?text=*Hi! Arena Travel and Consultants* Salam, main aapka ad *[Pak E Services]* me dekh kar aaya hoon aur mujhe zyada tafseelat chahiye &phone=+92 301 1178609",
            }
        ];

        // Preload popup ad images
        function preloadPopupAds() {
            popupAds.forEach(ad => {
                const image = new Image();
                image.src = ad.image;
            });
        }

        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const menuBtn = document.getElementById('menuBtn');
        const sideMenu = document.getElementById('sideMenu');
        const menuOverlay = document.getElementById('menuOverlay');
        const exitBtn = document.getElementById('exitBtn');
        const exitPopup = document.getElementById('exitPopup');
        const confirmExit = document.getElementById('confirmExit');
        const cancelExit = document.getElementById('cancelExit');
        const searchInput = document.getElementById('searchInput');
        const searchBar = document.getElementById('searchBar');
        const searchResults = document.getElementById('searchResults');
        const clearSearch = document.getElementById('clearSearch');
        const popularServices = document.getElementById('popularServices');
        const adContainer = document.getElementById('adContainer');
        const adsteraAd = document.getElementById('adsteraAd');
        const cointiplyAd = document.getElementById('cointiplyAd');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const popupAd = document.getElementById('popupAd');
        const popupAdContent = document.querySelector('.popup-ad-content');
        const popupAdClose = document.getElementById('popupAdClose');
        const randomPopupAd = document.getElementById('randomPopupAd');
        const homeContent = document.getElementById('homeContent');
        const notificationsContainer = document.getElementById('notificationsContainer');
        const notificationList = document.getElementById('notificationList');
        const backBtn = document.getElementById('backBtn');
        const homeNav = document.getElementById('homeNav');
        const notificationsNav = document.getElementById('notificationsNav');
        const aboutMenuBtn = document.getElementById('aboutMenuBtn');
        const aboutPopup = document.getElementById('aboutPopup');
        const aboutPopupClose = document.getElementById('aboutPopupClose');
        const exitAdPopup = document.getElementById('exitAdPopup');
        const exitAdClose = document.getElementById('exitAdClose');
        const serviceItems = document.querySelectorAll('.service-item');
        const filterTabs = document.querySelectorAll('.filter-tab');
        
        // Track popup ad show time
        let popupLastShown = localStorage.getItem('popupLastShown');
        const popupShowInterval = 10 * 60 * 1000; // 10 minutes in milliseconds
        
        // Track which ad is currently showing
        let currentAd = 'adstera';
        let adInterval;
        
        // Show random popup ad with optional link
        function showRandomPopupAd() {
            const randomAd = popupAds[Math.floor(Math.random() * popupAds.length)];
            randomPopupAd.src = randomAd.image;
            
            // Clear any existing link/label
            const existingLink = popupAdContent.querySelector('.popup-ad-link');
            const existingLabel = popupAdContent.querySelector('.popup-ad-label');
            
            if (existingLink) existingLink.remove();
            if (existingLabel) existingLabel.remove();
            
            // Add link and label if needed
            if (randomAd.link) {
                // Create and add link
                const link = document.createElement('a');
                link.className = 'popup-ad-link';
                link.href = randomAd.link;
                link.target = '_blank';
                popupAdContent.appendChild(link);
                
                // Create and add AD label (only if it's a Play Store link)
                if (randomAd.link.includes('play.google.com')) {
                    const label = document.createElement('span');
                    label.className = 'popup-ad-label';
                    label.textContent = 'AD';
                    popupAdContent.appendChild(label);
                }
            }
        }
        
        // Show popup ad if enough time has passed
        function showPopupIfNeeded() {
            const now = Date.now();
            if (!popupLastShown || now - popupLastShown > popupShowInterval) {
                setTimeout(() => {
                    showRandomPopupAd();
                    popupAd.classList.add('show');
                    localStorage.setItem('popupLastShown', now);
                }, 2000);
            }
        }
        
        // Close popup ad
        popupAdClose.addEventListener('click', () => {
            popupAd.classList.remove('show');
        });
        
        // Show about popup
        aboutMenuBtn.addEventListener('click', () => {
            aboutPopup.classList.add('show');
            document.body.style.overflow = 'hidden';
            toggleMenu();
        });
        
        // Close about popup
        aboutPopupClose.addEventListener('click', () => {
            aboutPopup.classList.remove('show');
            document.body.style.overflow = '';
        });
        
        // Show exit ad popup
        exitBtn.addEventListener('click', () => {
            exitAdPopup.classList.add('show');
            document.body.style.overflow = 'hidden';
        });
        
        // Close exit ad popup
        exitAdClose.addEventListener('click', () => {
            exitAdPopup.classList.remove('show');
            document.body.style.overflow = '';
            // Show exit confirmation after ad is closed
            exitPopup.classList.add('show');
        });
        
        // Simple notification handling
        function showNotifications() {
            homeContent.style.display = 'none';
            notificationsContainer.style.display = 'block';
            
            // Update nav items
            homeNav.classList.remove('active');
            notificationsNav.classList.add('active');
        }
        
        function showHome() {
            homeContent.style.display = 'block';
            notificationsContainer.style.display = 'none';
            
            // Update nav items
            homeNav.classList.add('active');
            notificationsNav.classList.remove('active');
        }
        
        // Event listeners for navigation
        notificationsNav.addEventListener('click', function() {
            window.location.href = 'go:123';
        });
        homeNav.addEventListener('click', showHome);
        backBtn.addEventListener('click', showHome);
        
        // Filter services by category
        function filterServices(category) {
            serviceItems.forEach(item => {
                if (category === 'all' || item.getAttribute('data-filter') === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        // Initialize filter tabs
        function initFilterTabs() {
            filterTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    filterTabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    // Filter services
                    filterServices(tab.getAttribute('data-filter'));
                });
            });
        }
        
        // Rotate between ads
        function rotateAds() {
            clearInterval(adInterval);
            
            adInterval = setInterval(() => {
                if (currentAd === 'adstera') {
                    adsteraAd.style.display = 'none';
                    cointiplyAd.style.display = 'block';
                    currentAd = 'cointiply';
                } else {
                    adsteraAd.style.display = 'block';
                    cointiplyAd.style.display = 'none';
                    currentAd = 'adstera';
                }
            }, 15000); // Change every 15 seconds
        }
        
        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            // Preload images
            preloadSliderImages();
            preloadPopupAds();
            
            // Initialize slider
            initSlider();
            
            // Start slider functionality
            initSliderControls();
            
            // Initialize filter tabs
            initFilterTabs();
            
            // Start rotating ads
            rotateAds();
            
            // Show popup if needed
            showPopupIfNeeded();
        });
        
        // Improved Dark Mode Toggle with better transitions
        function toggleDarkMode() {
            body.classList.toggle('dark-mode');
            document.querySelector('.app-container').classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('darkMode', 'disabled');
            }
        }
        
        themeToggle.addEventListener('click', toggleDarkMode);
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'enabled') {
            toggleDarkMode(); // Apply dark mode if enabled
        }

        // Improved Side Menu Toggle with smoother animation
        function toggleMenu() {
            sideMenu.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            
            // Prevent scrolling when menu is open
            if (sideMenu.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
        
        menuBtn.addEventListener('click', toggleMenu);
        menuOverlay.addEventListener('click', toggleMenu);
        
        // Improved Exit Popup with better animations
        confirmExit.addEventListener('click', () => {
            // Redirect to exit action
            window.location.href = 'http://action_exit';
        });
        
        cancelExit.addEventListener('click', () => {
            exitPopup.classList.remove('show');
            document.body.style.overflow = '';
        });
        
        // Enhanced Search Functionality - Hide non-matching cards
        function handleSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (searchTerm.length === 0) {
                // Show all service items when search is empty
                serviceItems.forEach(item => {
                    item.style.display = 'block';
                });
                clearSearch.style.display = 'none';
                searchBar.classList.remove('active');
                return;
            }
            
            clearSearch.style.display = 'flex';
            searchBar.classList.add('active');
            
            // Filter and show only matching services
            serviceItems.forEach(item => {
                const serviceName = item.querySelector('.service-name').textContent.toLowerCase();
                if (serviceName.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        // Search event listeners
        searchInput.addEventListener('input', handleSearch);
        searchInput.addEventListener('focus', () => {
            if (searchInput.value.trim().length > 0) {
                searchBar.classList.add('active');
            }
        });
        
        clearSearch.addEventListener('click', () => {
            searchInput.value = '';
            handleSearch();
            searchInput.focus();
        });
        
        // Enhanced Slider Functionality with auto-play and touch support
        function initSliderControls() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const slideCount = slides.length;
            let slideInterval;
            
            function goToSlide(n) {
                currentSlide = (n + slideCount) % slideCount;
                document.querySelector('.slider').style.transform = `translateX(-${currentSlide * 100}%)`;
            }
            
            function nextSlide() {
                goToSlide(currentSlide + 1);
            }
            
            function prevSlide() {
                goToSlide(currentSlide - 1);
            }
            
            function startSlider() {
                slideInterval = setInterval(nextSlide, 5000);
            }
            
            function resetSliderTimer() {
                clearInterval(slideInterval);
                startSlider();
            }
            
            // Event listeners for slider
            nextBtn.addEventListener('click', () => {
                nextSlide();
                resetSliderTimer();
            });
            
            prevBtn.addEventListener('click', () => {
                prevSlide();
                resetSliderTimer();
            });
            
            // Initialize slider
            startSlider();
            
            // Pause slider on hover
            const slider = document.querySelector('.slider');
            slider.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });
            
            slider.addEventListener('mouseleave', () => {
                resetSliderTimer();
            });
        }
        
        // Improved accessibility
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (sideMenu.classList.contains('active')) {
                    toggleMenu();
                }
                if (exitPopup.classList.contains('show')) {
                    exitPopup.classList.remove('show');
                    document.body.style.overflow = '';
                }
                if (popupAd.classList.contains('show')) {
                    popupAd.classList.remove('show');
                }
                if (aboutPopup.classList.contains('show')) {
                    aboutPopup.classList.remove('show');
                    document.body.style.overflow = '';
                }
                if (exitAdPopup.classList.contains('show')) {
                    exitAdPopup.classList.remove('show');
                    document.body.style.overflow = '';
                }
            }
        });
    </script>
</body>
</html>